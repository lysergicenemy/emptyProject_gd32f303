ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"system_gd32f30x.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.system_clock_120m_irc8m,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	system_clock_120m_irc8m:
  26              	.LFB118:
  27              		.file 1 "Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c"
   1:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /*!
   2:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \file  system_gd32f30x.c
   3:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \brief CMSIS Cortex-M4 Device Peripheral Access Layer Source File for
   4:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****            GD32F30x Device Series
   5:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** */
   6:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
   7:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /* Copyright (c) 2012 ARM LIMITED
   8:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
   9:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****    All rights reserved.
  10:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****    Redistribution and use in source and binary forms, with or without
  11:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****    modification, are permitted provided that the following conditions are met:
  12:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****    - Redistributions of source code must retain the above copyright
  13:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****      notice, this list of conditions and the following disclaimer.
  14:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****    - Redistributions in binary form must reproduce the above copyright
  15:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****      notice, this list of conditions and the following disclaimer in the
  16:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****      documentation and/or other materials provided with the distribution.
  17:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****    - Neither the name of ARM nor the names of its contributors may be used
  18:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****      to endorse or promote products derived from this software without
  19:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****      specific prior written permission.
  20:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****    *
  21:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****    THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  22:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****    AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  23:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****    IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
  24:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****    ARE DISCLAIMED. IN NO EVENT SHALL COPYRIGHT HOLDERS AND CONTRIBUTORS BE
  25:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****    LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
  26:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****    CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
  27:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****    SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
  28:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****    INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
  29:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****    CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
  30:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****    ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
  31:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****    POSSIBILITY OF SUCH DAMAGE.
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 2


  32:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****    ---------------------------------------------------------------------------*/
  33:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /* This file refers the CMSIS standard, some adjustments are made according to GigaDevice chips */
  34:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
  35:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #include "gd32f30x.h"
  36:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
  37:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /* system frequency define */
  38:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #define __IRC8M           (IRC8M_VALUE)            /* internal 8 MHz RC oscillator frequency */
  39:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #define __HXTAL           (HXTAL_VALUE)            /* high speed crystal oscillator frequency */
  40:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #define __SYS_OSC_CLK     (__IRC8M)                /* main oscillator frequency */
  41:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
  42:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /* select a system clock by uncommenting the following line */
  43:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /* use IRC8M */
  44:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** //#define __SYSTEM_CLOCK_IRC8M                    (uint32_t)(__IRC8M) 
  45:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** //#define __SYSTEM_CLOCK_48M_PLL_IRC8M            (uint32_t)(48000000)
  46:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** //#define __SYSTEM_CLOCK_72M_PLL_IRC8M            (uint32_t)(72000000)
  47:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** //#define __SYSTEM_CLOCK_108M_PLL_IRC8M           (uint32_t)(108000000)
  48:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #define __SYSTEM_CLOCK_120M_PLL_IRC8M           (uint32_t)(120000000)
  49:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
  50:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /* use HXTAL(XD series CK_HXTAL = 8M, CL series CK_HXTAL = 25M) */
  51:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** //#define __SYSTEM_CLOCK_HXTAL                    (uint32_t)(__HXTAL)
  52:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** //#define __SYSTEM_CLOCK_48M_PLL_HXTAL            (uint32_t)(48000000)
  53:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** //#define __SYSTEM_CLOCK_72M_PLL_HXTAL            (uint32_t)(72000000)
  54:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** //#define __SYSTEM_CLOCK_108M_PLL_HXTAL           (uint32_t)(108000000)
  55:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** //#define __SYSTEM_CLOCK_120M_PLL_HXTAL           (uint32_t)(120000000)
  56:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
  57:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #define SEL_IRC8M       0x00U
  58:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #define SEL_HXTAL       0x01U
  59:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #define SEL_PLL         0x02U
  60:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #define RCU_MODIFY      {volatile uint32_t i; \
  61:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****                          RCU_CFG0 |= RCU_AHB_CKSYS_DIV2; \
  62:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****                          for(i=0;i<20000;i++);}
  63:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
  64:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /* set the system clock frequency and declare the system clock configuration function */
  65:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #ifdef __SYSTEM_CLOCK_IRC8M
  66:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** uint32_t SystemCoreClock = __SYSTEM_CLOCK_IRC8M;
  67:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_8m_irc8m(void);
  68:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_48M_PLL_IRC8M)
  69:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** uint32_t SystemCoreClock = __SYSTEM_CLOCK_48M_PLL_IRC8M;
  70:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_48m_irc8m(void);
  71:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_72M_PLL_IRC8M)
  72:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** uint32_t SystemCoreClock = __SYSTEM_CLOCK_72M_PLL_IRC8M;
  73:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_72m_irc8m(void);
  74:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_108M_PLL_IRC8M)
  75:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** uint32_t SystemCoreClock = __SYSTEM_CLOCK_108M_PLL_IRC8M;
  76:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_108m_irc8m(void);
  77:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_120M_PLL_IRC8M)
  78:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** uint32_t SystemCoreClock = __SYSTEM_CLOCK_120M_PLL_IRC8M;
  79:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_120m_irc8m(void);
  80:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
  81:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_HXTAL)
  82:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** uint32_t SystemCoreClock = __SYSTEM_CLOCK_HXTAL;
  83:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_hxtal(void);
  84:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_48M_PLL_HXTAL)
  85:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** uint32_t SystemCoreClock = __SYSTEM_CLOCK_48M_PLL_HXTAL;
  86:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_48m_hxtal(void);
  87:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_72M_PLL_HXTAL)
  88:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** uint32_t SystemCoreClock = __SYSTEM_CLOCK_72M_PLL_HXTAL;
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 3


  89:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_72m_hxtal(void);
  90:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_108M_PLL_HXTAL)
  91:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** uint32_t SystemCoreClock = __SYSTEM_CLOCK_108M_PLL_HXTAL;
  92:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_108m_hxtal(void);
  93:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_120M_PLL_HXTAL)
  94:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** uint32_t SystemCoreClock = __SYSTEM_CLOCK_120M_PLL_HXTAL;
  95:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_120m_hxtal(void);
  96:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #endif /* __SYSTEM_CLOCK_IRC8M */
  97:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
  98:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /* configure the system clock */
  99:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_config(void);
 100:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 101:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /*!
 102:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \brief      setup the microcontroller system, initialize the system
 103:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[in]  none
 104:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[out] none
 105:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \retval     none
 106:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** */
 107:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** void SystemInit (void)
 108:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** {
 109:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****   /* FPU settings */
 110:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #if (__FPU_PRESENT == 1) && (__FPU_USED == 1)
 111:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     SCB->CPACR |= ((3UL << 10*2)|(3UL << 11*2));  /* set CP10 and CP11 Full Access */
 112:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #endif
 113:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* reset the RCU clock configuration to the default reset state */
 114:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* Set IRC8MEN bit */
 115:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_IRC8MEN;
 116:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 117:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_MODIFY
 118:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 119:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~RCU_CFG0_SCS;
 120:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 121:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #if (defined(GD32F30X_HD) || defined(GD32F30X_XD))
 122:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* reset HXTALEN, CKMEN and PLLEN bits */
 123:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL &= ~(RCU_CTL_PLLEN | RCU_CTL_CKMEN | RCU_CTL_HXTALEN);
 124:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* disable all interrupts */
 125:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_INT = 0x009f0000U;
 126:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined(GD32F30X_CL)
 127:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* Reset HXTALEN, CKMEN, PLLEN, PLL1EN and PLL2EN bits */
 128:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL &= ~(RCU_CTL_PLLEN |RCU_CTL_PLL1EN | RCU_CTL_PLL2EN | RCU_CTL_CKMEN | RCU_CTL_HXTALEN);
 129:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* disable all interrupts */
 130:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_INT = 0x00ff0000U;
 131:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #endif
 132:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 133:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* reset HXTALBPS bit */
 134:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL &= ~(RCU_CTL_HXTALBPS);
 135:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 136:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* Reset CFG0 and CFG1 registers */
 137:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 = 0x00000000U;
 138:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG1 = 0x00000000U;
 139:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 140:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* configure the system clock source, PLL Multiplier, AHB/APBx prescalers and Flash settings */
 141:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     system_clock_config();
 142:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** }
 143:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /*!
 144:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \brief      configure the system clock
 145:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[in]  none
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 4


 146:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[out] none
 147:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \retval     none
 148:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** */
 149:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_config(void)
 150:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** {
 151:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #ifdef __SYSTEM_CLOCK_IRC8M
 152:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     system_clock_8m_irc8m();
 153:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_48M_PLL_IRC8M)
 154:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     system_clock_48m_irc8m();
 155:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_72M_PLL_IRC8M)
 156:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     system_clock_72m_irc8m();
 157:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_108M_PLL_IRC8M)
 158:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     system_clock_108m_irc8m();
 159:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_120M_PLL_IRC8M)
 160:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     system_clock_120m_irc8m();
 161:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 162:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_HXTAL)
 163:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     system_clock_hxtal();
 164:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_48M_PLL_HXTAL)
 165:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     system_clock_48m_hxtal();
 166:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_72M_PLL_HXTAL)
 167:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     system_clock_72m_hxtal();
 168:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_108M_PLL_HXTAL)
 169:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     system_clock_108m_hxtal();
 170:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_120M_PLL_HXTAL)
 171:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     system_clock_120m_hxtal();
 172:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #endif /* __SYSTEM_CLOCK_IRC8M */
 173:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** }
 174:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 175:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #ifdef __SYSTEM_CLOCK_IRC8M
 176:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /*!
 177:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \brief      configure the system clock to 8M by IRC8M
 178:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[in]  none
 179:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[out] none
 180:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \retval     none
 181:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** */
 182:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_8m_irc8m(void)
 183:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** {
 184:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t timeout = 0U;
 185:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t stab_flag = 0U;
 186:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 187:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable IRC8M */
 188:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_IRC8MEN;
 189:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 190:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until IRC8M is stable or the startup time is longer than IRC8M_STARTUP_TIMEOUT */
 191:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     do{
 192:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         timeout++;
 193:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         stab_flag = (RCU_CTL & RCU_CTL_IRC8MSTB);
 194:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 195:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while((0U == stab_flag) && (IRC8M_STARTUP_TIMEOUT != timeout));
 196:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 197:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* if fail */
 198:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     if(0U == (RCU_CTL & RCU_CTL_IRC8MSTB)){
 199:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         while(1){
 200:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 201:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 202:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 5


 203:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* AHB = SYSCLK */
 204:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_AHB_CKSYS_DIV1;
 205:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB2 = AHB/1 */
 206:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB2_CKAHB_DIV1;
 207:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB1 = AHB/2 */
 208:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB1_CKAHB_DIV2;
 209:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 210:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select IRC8M as system clock */
 211:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~RCU_CFG0_SCS;
 212:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_CKSYSSRC_IRC8M;
 213:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 214:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until IRC8M is selected as system clock */
 215:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U != (RCU_CFG0 & RCU_SCSS_IRC8M)){
 216:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 217:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** }
 218:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 219:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_48M_PLL_IRC8M)
 220:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /*!
 221:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \brief      configure the system clock to 48M by PLL which selects IRC8M as its clock source
 222:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[in]  none
 223:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[out] none
 224:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \retval     none
 225:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** */
 226:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_48m_irc8m(void)
 227:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** {
 228:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t timeout = 0U;
 229:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t stab_flag = 0U;
 230:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 231:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable IRC8M */
 232:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_IRC8MEN;
 233:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 234:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until IRC8M is stable or the startup time is longer than IRC8M_STARTUP_TIMEOUT */
 235:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     do{
 236:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         timeout++;
 237:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         stab_flag = (RCU_CTL & RCU_CTL_IRC8MSTB);
 238:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 239:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while((0U == stab_flag) && (IRC8M_STARTUP_TIMEOUT != timeout));
 240:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 241:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* if fail */
 242:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     if(0U == (RCU_CTL & RCU_CTL_IRC8MSTB)){
 243:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****       while(1){
 244:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****       }
 245:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 246:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 247:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* LDO output voltage high mode */
 248:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_APB1EN |= RCU_APB1EN_PMUEN;
 249:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_LDOVS;
 250:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 251:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* IRC8M is stable */
 252:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* AHB = SYSCLK */
 253:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_AHB_CKSYS_DIV1;
 254:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB2 = AHB/1 */
 255:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB2_CKAHB_DIV1;
 256:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB1 = AHB/2 */
 257:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB1_CKAHB_DIV2;
 258:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 259:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* CK_PLL = (CK_IRC8M/2) * 12 = 48 MHz */
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 6


 260:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~(RCU_CFG0_PLLMF | RCU_CFG0_PLLMF_4 | RCU_CFG0_PLLMF_5);
 261:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_PLL_MUL12;
 262:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 263:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable PLL */
 264:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_PLLEN;
 265:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 266:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until PLL is stable */
 267:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (RCU_CTL & RCU_CTL_PLLSTB)){
 268:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 269:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 270:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable the high-drive to extend the clock frequency to 120 MHz */
 271:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_HDEN;
 272:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDRF)){
 273:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 274:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 275:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select the high-drive mode */
 276:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_HDS;
 277:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDSRF)){
 278:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     } 
 279:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 280:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select PLL as system clock */
 281:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~RCU_CFG0_SCS;
 282:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_CKSYSSRC_PLL;
 283:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 284:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until PLL is selected as system clock */
 285:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (RCU_CFG0 & RCU_SCSS_PLL)){
 286:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 287:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** }
 288:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 289:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_72M_PLL_IRC8M)
 290:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /*!
 291:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \brief      configure the system clock to 72M by PLL which selects IRC8M as its clock source
 292:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[in]  none
 293:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[out] none
 294:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \retval     none
 295:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** */
 296:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_72m_irc8m(void)
 297:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** {
 298:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t timeout = 0U;
 299:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t stab_flag = 0U;
 300:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 301:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable IRC8M */
 302:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_IRC8MEN;
 303:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 304:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until IRC8M is stable or the startup time is longer than IRC8M_STARTUP_TIMEOUT */
 305:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     do{
 306:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         timeout++;
 307:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         stab_flag = (RCU_CTL & RCU_CTL_IRC8MSTB);
 308:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }while((0U == stab_flag) && (IRC8M_STARTUP_TIMEOUT != timeout));
 309:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 310:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* if fail */
 311:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     if(0U == (RCU_CTL & RCU_CTL_IRC8MSTB)){
 312:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         while(1){
 313:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 314:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 315:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 316:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* LDO output voltage high mode */
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 7


 317:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_APB1EN |= RCU_APB1EN_PMUEN;
 318:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_LDOVS;
 319:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 320:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* IRC8M is stable */
 321:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* AHB = SYSCLK */
 322:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_AHB_CKSYS_DIV1;
 323:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB2 = AHB/1 */
 324:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB2_CKAHB_DIV1;
 325:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB1 = AHB/2 */
 326:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB1_CKAHB_DIV2;
 327:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 328:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* CK_PLL = (CK_IRC8M/2) * 18 = 72 MHz */
 329:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~(RCU_CFG0_PLLMF | RCU_CFG0_PLLMF_4 | RCU_CFG0_PLLMF_5);
 330:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_PLL_MUL18;
 331:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 332:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable PLL */
 333:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_PLLEN;
 334:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 335:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until PLL is stable */
 336:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (RCU_CTL & RCU_CTL_PLLSTB)){
 337:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 338:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 339:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable the high-drive to extend the clock frequency to 120 MHz */
 340:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_HDEN;
 341:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDRF)){
 342:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 343:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 344:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select the high-drive mode */
 345:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_HDS;
 346:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDSRF)){
 347:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 348:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 349:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select PLL as system clock */
 350:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~RCU_CFG0_SCS;
 351:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_CKSYSSRC_PLL;
 352:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 353:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until PLL is selected as system clock */
 354:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (RCU_CFG0 & RCU_SCSS_PLL)){
 355:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 356:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** }
 357:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 358:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_108M_PLL_IRC8M)
 359:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /*!
 360:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \brief      configure the system clock to 108M by PLL which selects IRC8M as its clock source
 361:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[in]  none
 362:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[out] none
 363:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \retval     none
 364:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** */
 365:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_108m_irc8m(void)
 366:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** {
 367:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t timeout = 0U;
 368:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t stab_flag = 0U;
 369:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 370:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable IRC8M */
 371:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_IRC8MEN;
 372:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 373:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until IRC8M is stable or the startup time is longer than IRC8M_STARTUP_TIMEOUT */
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 8


 374:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     do{
 375:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         timeout++;
 376:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         stab_flag = (RCU_CTL & RCU_CTL_IRC8MSTB);
 377:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }while((0U == stab_flag) && (IRC8M_STARTUP_TIMEOUT != timeout));
 378:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 379:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* if fail */
 380:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     if(0U == (RCU_CTL & RCU_CTL_IRC8MSTB)){
 381:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         while(1){
 382:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 383:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 384:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 385:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* LDO output voltage high mode */
 386:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_APB1EN |= RCU_APB1EN_PMUEN;
 387:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_LDOVS;
 388:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 389:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* IRC8M is stable */
 390:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* AHB = SYSCLK */
 391:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_AHB_CKSYS_DIV1;
 392:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB2 = AHB/1 */
 393:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB2_CKAHB_DIV1;
 394:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB1 = AHB/2 */
 395:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB1_CKAHB_DIV2;
 396:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 397:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* CK_PLL = (CK_IRC8M/2) * 27 = 108 MHz */
 398:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~(RCU_CFG0_PLLMF | RCU_CFG0_PLLMF_4 | RCU_CFG0_PLLMF_5);
 399:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_PLL_MUL27;
 400:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 401:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable PLL */
 402:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_PLLEN;
 403:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 404:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until PLL is stable */
 405:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (RCU_CTL & RCU_CTL_PLLSTB)){
 406:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 407:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 408:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable the high-drive to extend the clock frequency to 120 MHz */
 409:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_HDEN;
 410:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDRF)){
 411:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 412:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 413:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select the high-drive mode */
 414:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_HDS;
 415:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDSRF)){
 416:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 417:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 418:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select PLL as system clock */
 419:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~RCU_CFG0_SCS;
 420:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_CKSYSSRC_PLL;
 421:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 422:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until PLL is selected as system clock */
 423:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (RCU_CFG0 & RCU_SCSS_PLL)){
 424:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 425:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** }
 426:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 427:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_120M_PLL_IRC8M)
 428:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /*!
 429:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \brief      configure the system clock to 120M by PLL which selects IRC8M as its clock source
 430:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[in]  none
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 9


 431:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[out] none
 432:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \retval     none
 433:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** */
 434:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_120m_irc8m(void)
 435:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** {
  28              		.loc 1 435 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 436:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t timeout = 0U;
  33              		.loc 1 436 5 view .LVU1
  34              	.LVL0:
 437:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t stab_flag = 0U;
  35              		.loc 1 437 5 view .LVU2
 438:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 439:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable IRC8M */
 440:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_IRC8MEN;
  36              		.loc 1 440 5 view .LVU3
  37              		.loc 1 440 13 is_stmt 0 view .LVU4
  38 0000 2F4A     		ldr	r2, .L10
  39 0002 1368     		ldr	r3, [r2]
  40 0004 43F00103 		orr	r3, r3, #1
  41 0008 1360     		str	r3, [r2]
 436:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t stab_flag = 0U;
  42              		.loc 1 436 14 view .LVU5
  43 000a 0023     		movs	r3, #0
  44              	.LVL1:
  45              	.L3:
 441:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 442:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until IRC8M is stable or the startup time is longer than IRC8M_STARTUP_TIMEOUT */
 443:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     do{
  46              		.loc 1 443 5 is_stmt 1 discriminator 2 view .LVU6
 444:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         timeout++;
  47              		.loc 1 444 9 discriminator 2 view .LVU7
  48              		.loc 1 444 16 is_stmt 0 discriminator 2 view .LVU8
  49 000c 0133     		adds	r3, r3, #1
  50              	.LVL2:
 445:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         stab_flag = (RCU_CTL & RCU_CTL_IRC8MSTB);
  51              		.loc 1 445 9 is_stmt 1 discriminator 2 view .LVU9
  52              		.loc 1 445 22 is_stmt 0 discriminator 2 view .LVU10
  53 000e 2C4A     		ldr	r2, .L10
  54 0010 1268     		ldr	r2, [r2]
  55              	.LVL3:
 446:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }while((0U == stab_flag) && (IRC8M_STARTUP_TIMEOUT != timeout));
  56              		.loc 1 446 11 is_stmt 1 discriminator 2 view .LVU11
  57              		.loc 1 446 5 is_stmt 0 discriminator 2 view .LVU12
  58 0012 12F0020F 		tst	r2, #2
  59 0016 02D1     		bne	.L2
  60              		.loc 1 446 30 discriminator 1 view .LVU13
  61 0018 B3F5A06F 		cmp	r3, #1280
  62 001c F6D1     		bne	.L3
  63              	.L2:
 447:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 448:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* if fail */
 449:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     if(0U == (RCU_CTL & RCU_CTL_IRC8MSTB)){
  64              		.loc 1 449 5 is_stmt 1 view .LVU14
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 10


  65              		.loc 1 449 15 is_stmt 0 view .LVU15
  66 001e 284B     		ldr	r3, .L10
  67              	.LVL4:
  68              		.loc 1 449 15 view .LVU16
  69 0020 1B68     		ldr	r3, [r3]
  70              		.loc 1 449 7 view .LVU17
  71 0022 13F0020F 		tst	r3, #2
  72 0026 00D1     		bne	.L4
  73              	.L5:
 450:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         while(1){
  74              		.loc 1 450 9 is_stmt 1 discriminator 1 view .LVU18
 451:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
  75              		.loc 1 451 9 discriminator 1 view .LVU19
 450:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         while(1){
  76              		.loc 1 450 14 discriminator 1 view .LVU20
  77 0028 FEE7     		b	.L5
  78              	.L4:
 452:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 453:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 454:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* LDO output voltage high mode */
 455:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_APB1EN |= RCU_APB1EN_PMUEN;
  79              		.loc 1 455 5 view .LVU21
  80              		.loc 1 455 16 is_stmt 0 view .LVU22
  81 002a 254B     		ldr	r3, .L10
  82 002c DA69     		ldr	r2, [r3, #28]
  83              	.LVL5:
  84              		.loc 1 455 16 view .LVU23
  85 002e 42F08052 		orr	r2, r2, #268435456
  86 0032 DA61     		str	r2, [r3, #28]
 456:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_LDOVS;
  87              		.loc 1 456 5 is_stmt 1 view .LVU24
  88              		.loc 1 456 13 is_stmt 0 view .LVU25
  89 0034 2349     		ldr	r1, .L10+4
  90 0036 0A68     		ldr	r2, [r1]
  91 0038 42F44042 		orr	r2, r2, #49152
  92 003c 0A60     		str	r2, [r1]
 457:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 458:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* IRC8M is stable */
 459:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* AHB = SYSCLK */
 460:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_AHB_CKSYS_DIV1;
  93              		.loc 1 460 5 is_stmt 1 view .LVU26
  94              		.loc 1 460 14 is_stmt 0 view .LVU27
  95 003e 5A68     		ldr	r2, [r3, #4]
  96 0040 5A60     		str	r2, [r3, #4]
 461:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB2 = AHB/1 */
 462:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB2_CKAHB_DIV1;
  97              		.loc 1 462 5 is_stmt 1 view .LVU28
  98              		.loc 1 462 14 is_stmt 0 view .LVU29
  99 0042 5A68     		ldr	r2, [r3, #4]
 100 0044 5A60     		str	r2, [r3, #4]
 463:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB1 = AHB/2 */
 464:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB1_CKAHB_DIV2;
 101              		.loc 1 464 5 is_stmt 1 view .LVU30
 102              		.loc 1 464 14 is_stmt 0 view .LVU31
 103 0046 5A68     		ldr	r2, [r3, #4]
 104 0048 42F48062 		orr	r2, r2, #1024
 105 004c 5A60     		str	r2, [r3, #4]
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 11


 465:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 466:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* CK_PLL = (CK_IRC8M/2) * 30 = 120 MHz */
 467:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~(RCU_CFG0_PLLMF | RCU_CFG0_PLLMF_4 | RCU_CFG0_PLLMF_5);
 106              		.loc 1 467 5 is_stmt 1 view .LVU32
 107              		.loc 1 467 14 is_stmt 0 view .LVU33
 108 004e 5A68     		ldr	r2, [r3, #4]
 109 0050 22F09042 		bic	r2, r2, #1207959552
 110 0054 22F47012 		bic	r2, r2, #3932160
 111 0058 5A60     		str	r2, [r3, #4]
 468:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_PLL_MUL30;
 112              		.loc 1 468 5 is_stmt 1 view .LVU34
 113              		.loc 1 468 14 is_stmt 0 view .LVU35
 114 005a 5A68     		ldr	r2, [r3, #4]
 115 005c 42F00362 		orr	r2, r2, #137363456
 116 0060 42F48022 		orr	r2, r2, #262144
 117 0064 5A60     		str	r2, [r3, #4]
 469:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 470:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable PLL */
 471:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_PLLEN;
 118              		.loc 1 471 5 is_stmt 1 view .LVU36
 119              		.loc 1 471 13 is_stmt 0 view .LVU37
 120 0066 1A68     		ldr	r2, [r3]
 121 0068 42F08072 		orr	r2, r2, #16777216
 122 006c 1A60     		str	r2, [r3]
 472:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 473:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until PLL is stable */
 474:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (RCU_CTL & RCU_CTL_PLLSTB)){
 123              		.loc 1 474 5 is_stmt 1 view .LVU38
 124              	.L6:
 475:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 125              		.loc 1 475 5 discriminator 1 view .LVU39
 474:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 126              		.loc 1 474 10 discriminator 1 view .LVU40
 474:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 127              		.loc 1 474 18 is_stmt 0 discriminator 1 view .LVU41
 128 006e 144B     		ldr	r3, .L10
 129 0070 1B68     		ldr	r3, [r3]
 474:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 130              		.loc 1 474 10 discriminator 1 view .LVU42
 131 0072 13F0007F 		tst	r3, #33554432
 132 0076 FAD0     		beq	.L6
 476:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 477:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable the high-drive to extend the clock frequency to 120 MHz */
 478:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_HDEN;
 133              		.loc 1 478 5 is_stmt 1 view .LVU43
 134              		.loc 1 478 13 is_stmt 0 view .LVU44
 135 0078 124A     		ldr	r2, .L10+4
 136 007a 1368     		ldr	r3, [r2]
 137 007c 43F48033 		orr	r3, r3, #65536
 138 0080 1360     		str	r3, [r2]
 479:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDRF)){
 139              		.loc 1 479 5 is_stmt 1 view .LVU45
 140              	.L7:
 480:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 141              		.loc 1 480 5 discriminator 1 view .LVU46
 479:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDRF)){
 142              		.loc 1 479 10 discriminator 1 view .LVU47
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 12


 479:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDRF)){
 143              		.loc 1 479 18 is_stmt 0 discriminator 1 view .LVU48
 144 0082 104B     		ldr	r3, .L10+4
 145 0084 5B68     		ldr	r3, [r3, #4]
 479:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDRF)){
 146              		.loc 1 479 10 discriminator 1 view .LVU49
 147 0086 13F4803F 		tst	r3, #65536
 148 008a FAD0     		beq	.L7
 481:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 482:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select the high-drive mode */
 483:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_HDS;
 149              		.loc 1 483 5 is_stmt 1 view .LVU50
 150              		.loc 1 483 13 is_stmt 0 view .LVU51
 151 008c 0D4A     		ldr	r2, .L10+4
 152 008e 1368     		ldr	r3, [r2]
 153 0090 43F40033 		orr	r3, r3, #131072
 154 0094 1360     		str	r3, [r2]
 484:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDSRF)){
 155              		.loc 1 484 5 is_stmt 1 view .LVU52
 156              	.L8:
 485:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 157              		.loc 1 485 5 discriminator 1 view .LVU53
 484:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDSRF)){
 158              		.loc 1 484 10 discriminator 1 view .LVU54
 484:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDSRF)){
 159              		.loc 1 484 18 is_stmt 0 discriminator 1 view .LVU55
 160 0096 0B4B     		ldr	r3, .L10+4
 161 0098 5B68     		ldr	r3, [r3, #4]
 484:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDSRF)){
 162              		.loc 1 484 10 discriminator 1 view .LVU56
 163 009a 13F4003F 		tst	r3, #131072
 164 009e FAD0     		beq	.L8
 486:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 487:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select PLL as system clock */
 488:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~RCU_CFG0_SCS;
 165              		.loc 1 488 5 is_stmt 1 view .LVU57
 166              		.loc 1 488 14 is_stmt 0 view .LVU58
 167 00a0 074B     		ldr	r3, .L10
 168 00a2 5A68     		ldr	r2, [r3, #4]
 169 00a4 22F00302 		bic	r2, r2, #3
 170 00a8 5A60     		str	r2, [r3, #4]
 489:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_CKSYSSRC_PLL;
 171              		.loc 1 489 5 is_stmt 1 view .LVU59
 172              		.loc 1 489 14 is_stmt 0 view .LVU60
 173 00aa 5A68     		ldr	r2, [r3, #4]
 174 00ac 42F00202 		orr	r2, r2, #2
 175 00b0 5A60     		str	r2, [r3, #4]
 490:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 491:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until PLL is selected as system clock */
 492:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (RCU_CFG0 & RCU_SCSS_PLL)){
 176              		.loc 1 492 5 is_stmt 1 view .LVU61
 177              	.L9:
 493:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 178              		.loc 1 493 5 discriminator 1 view .LVU62
 492:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 179              		.loc 1 492 10 discriminator 1 view .LVU63
 492:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 13


 180              		.loc 1 492 18 is_stmt 0 discriminator 1 view .LVU64
 181 00b2 034B     		ldr	r3, .L10
 182 00b4 5B68     		ldr	r3, [r3, #4]
 492:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 183              		.loc 1 492 10 discriminator 1 view .LVU65
 184 00b6 13F0080F 		tst	r3, #8
 185 00ba FAD0     		beq	.L9
 494:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** }
 186              		.loc 1 494 1 view .LVU66
 187 00bc 7047     		bx	lr
 188              	.L11:
 189 00be 00BF     		.align	2
 190              	.L10:
 191 00c0 00100240 		.word	1073876992
 192 00c4 00700040 		.word	1073770496
 193              		.cfi_endproc
 194              	.LFE118:
 196              		.section	.text.system_clock_config,"ax",%progbits
 197              		.align	1
 198              		.syntax unified
 199              		.thumb
 200              		.thumb_func
 201              		.fpu fpv4-sp-d16
 203              	system_clock_config:
 204              	.LFB117:
 150:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #ifdef __SYSTEM_CLOCK_IRC8M
 205              		.loc 1 150 1 is_stmt 1 view -0
 206              		.cfi_startproc
 207              		@ args = 0, pretend = 0, frame = 0
 208              		@ frame_needed = 0, uses_anonymous_args = 0
 209 0000 08B5     		push	{r3, lr}
 210              	.LCFI0:
 211              		.cfi_def_cfa_offset 8
 212              		.cfi_offset 3, -8
 213              		.cfi_offset 14, -4
 160:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 214              		.loc 1 160 5 view .LVU68
 215 0002 FFF7FEFF 		bl	system_clock_120m_irc8m
 216              	.LVL6:
 173:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 217              		.loc 1 173 1 is_stmt 0 view .LVU69
 218 0006 08BD     		pop	{r3, pc}
 219              		.cfi_endproc
 220              	.LFE117:
 222              		.section	.text.SystemInit,"ax",%progbits
 223              		.align	1
 224              		.global	SystemInit
 225              		.syntax unified
 226              		.thumb
 227              		.thumb_func
 228              		.fpu fpv4-sp-d16
 230              	SystemInit:
 231              	.LFB116:
 108:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****   /* FPU settings */
 232              		.loc 1 108 1 is_stmt 1 view -0
 233              		.cfi_startproc
 234              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 14


 235              		@ frame_needed = 0, uses_anonymous_args = 0
 236 0000 00B5     		push	{lr}
 237              	.LCFI1:
 238              		.cfi_def_cfa_offset 4
 239              		.cfi_offset 14, -4
 240 0002 83B0     		sub	sp, sp, #12
 241              	.LCFI2:
 242              		.cfi_def_cfa_offset 16
 111:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #endif
 243              		.loc 1 111 5 view .LVU71
 111:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #endif
 244              		.loc 1 111 16 is_stmt 0 view .LVU72
 245 0004 1A4A     		ldr	r2, .L18
 246 0006 D2F88830 		ldr	r3, [r2, #136]
 247 000a 43F47003 		orr	r3, r3, #15728640
 248 000e C2F88830 		str	r3, [r2, #136]
 115:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 249              		.loc 1 115 5 is_stmt 1 view .LVU73
 115:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 250              		.loc 1 115 13 is_stmt 0 view .LVU74
 251 0012 184B     		ldr	r3, .L18+4
 252 0014 1A68     		ldr	r2, [r3]
 253 0016 42F00102 		orr	r2, r2, #1
 254 001a 1A60     		str	r2, [r3]
 255              	.LBB2:
 117:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 256              		.loc 1 117 5 is_stmt 1 view .LVU75
 117:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 257              		.loc 1 117 5 view .LVU76
 258 001c 5A68     		ldr	r2, [r3, #4]
 259 001e 42F08002 		orr	r2, r2, #128
 260 0022 5A60     		str	r2, [r3, #4]
 117:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 261              		.loc 1 117 5 view .LVU77
 262 0024 0023     		movs	r3, #0
 263 0026 0193     		str	r3, [sp, #4]
 264 0028 02E0     		b	.L15
 265              	.L16:
 117:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 266              		.loc 1 117 5 discriminator 3 view .LVU78
 117:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 267              		.loc 1 117 5 discriminator 3 view .LVU79
 268 002a 019B     		ldr	r3, [sp, #4]
 269 002c 0133     		adds	r3, r3, #1
 270 002e 0193     		str	r3, [sp, #4]
 271              	.L15:
 117:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 272              		.loc 1 117 5 discriminator 1 view .LVU80
 273 0030 019A     		ldr	r2, [sp, #4]
 274 0032 44F61F63 		movw	r3, #19999
 275 0036 9A42     		cmp	r2, r3
 276 0038 F7D9     		bls	.L16
 277              	.LBE2:
 119:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 278              		.loc 1 119 5 view .LVU81
 119:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 279              		.loc 1 119 14 is_stmt 0 view .LVU82
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 15


 280 003a 0E4B     		ldr	r3, .L18+4
 281 003c 5A68     		ldr	r2, [r3, #4]
 282 003e 22F00302 		bic	r2, r2, #3
 283 0042 5A60     		str	r2, [r3, #4]
 123:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* disable all interrupts */
 284              		.loc 1 123 5 is_stmt 1 view .LVU83
 123:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* disable all interrupts */
 285              		.loc 1 123 13 is_stmt 0 view .LVU84
 286 0044 1A68     		ldr	r2, [r3]
 287 0046 22F08472 		bic	r2, r2, #17301504
 288 004a 22F48032 		bic	r2, r2, #65536
 289 004e 1A60     		str	r2, [r3]
 125:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined(GD32F30X_CL)
 290              		.loc 1 125 5 is_stmt 1 view .LVU85
 125:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined(GD32F30X_CL)
 291              		.loc 1 125 13 is_stmt 0 view .LVU86
 292 0050 4FF41F02 		mov	r2, #10420224
 293 0054 9A60     		str	r2, [r3, #8]
 134:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 294              		.loc 1 134 5 is_stmt 1 view .LVU87
 134:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 295              		.loc 1 134 13 is_stmt 0 view .LVU88
 296 0056 1A68     		ldr	r2, [r3]
 297 0058 22F48022 		bic	r2, r2, #262144
 298 005c 1A60     		str	r2, [r3]
 137:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG1 = 0x00000000U;
 299              		.loc 1 137 5 is_stmt 1 view .LVU89
 137:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG1 = 0x00000000U;
 300              		.loc 1 137 14 is_stmt 0 view .LVU90
 301 005e 0022     		movs	r2, #0
 302 0060 5A60     		str	r2, [r3, #4]
 138:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 303              		.loc 1 138 5 is_stmt 1 view .LVU91
 138:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 304              		.loc 1 138 14 is_stmt 0 view .LVU92
 305 0062 DA62     		str	r2, [r3, #44]
 141:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** }
 306              		.loc 1 141 5 is_stmt 1 view .LVU93
 307 0064 FFF7FEFF 		bl	system_clock_config
 308              	.LVL7:
 142:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /*!
 309              		.loc 1 142 1 is_stmt 0 view .LVU94
 310 0068 03B0     		add	sp, sp, #12
 311              	.LCFI3:
 312              		.cfi_def_cfa_offset 4
 313              		@ sp needed
 314 006a 5DF804FB 		ldr	pc, [sp], #4
 315              	.L19:
 316 006e 00BF     		.align	2
 317              	.L18:
 318 0070 00ED00E0 		.word	-536810240
 319 0074 00100240 		.word	1073876992
 320              		.cfi_endproc
 321              	.LFE116:
 323              		.section	.text.SystemCoreClockUpdate,"ax",%progbits
 324              		.align	1
 325              		.global	SystemCoreClockUpdate
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 16


 326              		.syntax unified
 327              		.thumb
 328              		.thumb_func
 329              		.fpu fpv4-sp-d16
 331              	SystemCoreClockUpdate:
 332              	.LFB119:
 495:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 496:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_HXTAL)
 497:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /*!
 498:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \brief      configure the system clock to HXTAL
 499:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[in]  none
 500:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[out] none
 501:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \retval     none
 502:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** */
 503:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_hxtal(void)
 504:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** {
 505:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t timeout = 0U;
 506:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t stab_flag = 0U;
 507:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 508:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable HXTAL */
 509:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_HXTALEN;
 510:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 511:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until HXTAL is stable or the startup time is longer than HXTAL_STARTUP_TIMEOUT */
 512:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     do{
 513:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         timeout++;
 514:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         stab_flag = (RCU_CTL & RCU_CTL_HXTALSTB);
 515:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }while((0U == stab_flag) && (HXTAL_STARTUP_TIMEOUT != timeout));
 516:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 517:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* if fail */
 518:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     if(0U == (RCU_CTL & RCU_CTL_HXTALSTB)){
 519:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         while(1){
 520:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 521:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 522:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 523:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* AHB = SYSCLK */
 524:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_AHB_CKSYS_DIV1;
 525:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB2 = AHB/1 */
 526:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB2_CKAHB_DIV1;
 527:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB1 = AHB/2 */
 528:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB1_CKAHB_DIV2;
 529:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 530:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select HXTAL as system clock */
 531:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~RCU_CFG0_SCS;
 532:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_CKSYSSRC_HXTAL;
 533:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     
 534:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until HXTAL is selected as system clock */
 535:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0 == (RCU_CFG0 & RCU_SCSS_HXTAL)){
 536:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 537:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** }
 538:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 539:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_48M_PLL_HXTAL)
 540:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /*!
 541:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \brief      configure the system clock to 48M by PLL which selects HXTAL(8M) as its clock sourc
 542:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[in]  none
 543:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[out] none
 544:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \retval     none
 545:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** */
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 17


 546:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_48m_hxtal(void)
 547:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** {
 548:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t timeout = 0U;
 549:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t stab_flag = 0U;
 550:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 551:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable HXTAL */
 552:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_HXTALEN;
 553:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 554:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until HXTAL is stable or the startup time is longer than HXTAL_STARTUP_TIMEOUT */
 555:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     do{
 556:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         timeout++;
 557:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         stab_flag = (RCU_CTL & RCU_CTL_HXTALSTB);
 558:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }while((0U == stab_flag) && (HXTAL_STARTUP_TIMEOUT != timeout));
 559:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 560:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* if fail */
 561:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     if(0U == (RCU_CTL & RCU_CTL_HXTALSTB)){
 562:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         while(1){
 563:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 564:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 565:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 566:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_APB1EN |= RCU_APB1EN_PMUEN;
 567:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_LDOVS;
 568:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 569:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* HXTAL is stable */
 570:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* AHB = SYSCLK */
 571:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_AHB_CKSYS_DIV1;
 572:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB2 = AHB/1 */
 573:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB2_CKAHB_DIV1;
 574:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB1 = AHB/2 */
 575:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB1_CKAHB_DIV2;
 576:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 577:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #if (defined(GD32F30X_HD) || defined(GD32F30X_XD))
 578:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select HXTAL/2 as clock source */
 579:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~(RCU_CFG0_PLLSEL | RCU_CFG0_PREDV0);
 580:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= (RCU_PLLSRC_HXTAL_IRC48M | RCU_CFG0_PREDV0);
 581:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 582:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* CK_PLL = (CK_HXTAL/2) * 12 = 48 MHz */
 583:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~(RCU_CFG0_PLLMF | RCU_CFG0_PLLMF_4 | RCU_CFG0_PLLMF_5);
 584:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_PLL_MUL12;
 585:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 586:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined(GD32F30X_CL)
 587:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* CK_PLL = (CK_PREDIV0) * 12 = 48 MHz */ 
 588:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~(RCU_CFG0_PLLMF | RCU_CFG0_PLLMF_4 | RCU_CFG0_PLLMF_5);
 589:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= (RCU_PLLSRC_HXTAL_IRC48M | RCU_PLL_MUL12);
 590:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 591:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* CK_PREDIV0 = (CK_HXTAL)/5 *8 /10 = 4 MHz */ 
 592:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG1 &= ~(RCU_CFG1_PLLPRESEL | RCU_CFG1_PREDV0SEL | RCU_CFG1_PLL1MF | RCU_CFG1_PREDV1 | RCU
 593:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG1 |= (RCU_PLLPRESRC_HXTAL | RCU_PREDV0SRC_CKPLL1 | RCU_PLL1_MUL8 | RCU_PREDV1_DIV5 | RCU
 594:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 595:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable PLL1 */
 596:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_PLL1EN;
 597:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait till PLL1 is ready */
 598:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while((RCU_CTL & RCU_CTL_PLL1STB) == 0){
 599:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 600:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #endif /* GD32F30X_HD and GD32F30X_XD */
 601:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 602:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable PLL */
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 18


 603:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_PLLEN;
 604:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 605:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until PLL is stable */
 606:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (RCU_CTL & RCU_CTL_PLLSTB)){
 607:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 608:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 609:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable the high-drive to extend the clock frequency to 120 MHz */
 610:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_HDEN;
 611:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDRF)){
 612:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 613:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 614:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select the high-drive mode */
 615:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_HDS;
 616:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDSRF)){
 617:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 618:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 619:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select PLL as system clock */
 620:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~RCU_CFG0_SCS;
 621:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_CKSYSSRC_PLL;
 622:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 623:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until PLL is selected as system clock */
 624:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (RCU_CFG0 & RCU_SCSS_PLL)){
 625:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 626:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** }
 627:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_72M_PLL_HXTAL)
 628:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /*!
 629:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \brief      configure the system clock to 72M by PLL which selects HXTAL(8M) as its clock sourc
 630:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[in]  none
 631:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[out] none
 632:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \retval     none
 633:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** */
 634:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_72m_hxtal(void)
 635:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** {
 636:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t timeout = 0U;
 637:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t stab_flag = 0U;
 638:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 639:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable HXTAL */
 640:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_HXTALEN;
 641:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 642:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until HXTAL is stable or the startup time is longer than HXTAL_STARTUP_TIMEOUT */
 643:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     do{
 644:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         timeout++;
 645:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         stab_flag = (RCU_CTL & RCU_CTL_HXTALSTB);
 646:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }while((0U == stab_flag) && (HXTAL_STARTUP_TIMEOUT != timeout));
 647:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 648:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* if fail */
 649:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     if(0U == (RCU_CTL & RCU_CTL_HXTALSTB)){
 650:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         while(1){
 651:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 652:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 653:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 654:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_APB1EN |= RCU_APB1EN_PMUEN;
 655:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_LDOVS;
 656:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 657:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* HXTAL is stable */
 658:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* AHB = SYSCLK */
 659:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_AHB_CKSYS_DIV1;
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 19


 660:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB2 = AHB/1 */
 661:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB2_CKAHB_DIV1;
 662:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB1 = AHB/2 */
 663:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB1_CKAHB_DIV2;
 664:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 665:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #if (defined(GD32F30X_HD) || defined(GD32F30X_XD))
 666:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select HXTAL/2 as clock source */
 667:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~(RCU_CFG0_PLLSEL | RCU_CFG0_PREDV0);
 668:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= (RCU_PLLSRC_HXTAL_IRC48M | RCU_CFG0_PREDV0);
 669:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 670:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* CK_PLL = (CK_HXTAL/2) * 18 = 72 MHz */
 671:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~(RCU_CFG0_PLLMF | RCU_CFG0_PLLMF_4 | RCU_CFG0_PLLMF_5);
 672:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_PLL_MUL18;
 673:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 674:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined(GD32F30X_CL)
 675:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* CK_PLL = (CK_PREDIV0) * 18 = 72 MHz */ 
 676:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~(RCU_CFG0_PLLMF | RCU_CFG0_PLLMF_4 | RCU_CFG0_PLLMF_5);
 677:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= (RCU_PLLSRC_HXTAL_IRC48M | RCU_PLL_MUL18);
 678:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 679:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* CK_PREDIV0 = (CK_HXTAL)/5 *8 /10 = 4 MHz */ 
 680:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG1 &= ~(RCU_CFG1_PLLPRESEL | RCU_CFG1_PREDV0SEL | RCU_CFG1_PLL1MF | RCU_CFG1_PREDV1 | RCU
 681:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG1 |= (RCU_PLLPRESRC_HXTAL | RCU_PREDV0SRC_CKPLL1 | RCU_PLL1_MUL8 | RCU_PREDV1_DIV5 | RCU
 682:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 683:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable PLL1 */
 684:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_PLL1EN;
 685:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait till PLL1 is ready */
 686:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while((RCU_CTL & RCU_CTL_PLL1STB) == 0){
 687:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 688:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #endif /* GD32F30X_HD and GD32F30X_XD */
 689:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 690:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable PLL */
 691:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_PLLEN;
 692:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 693:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until PLL is stable */
 694:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (RCU_CTL & RCU_CTL_PLLSTB)){
 695:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 696:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 697:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable the high-drive to extend the clock frequency to 120 MHz */
 698:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_HDEN;
 699:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDRF)){
 700:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 701:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 702:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select the high-drive mode */
 703:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_HDS;
 704:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDSRF)){
 705:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 706:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 707:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select PLL as system clock */
 708:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~RCU_CFG0_SCS;
 709:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_CKSYSSRC_PLL;
 710:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 711:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until PLL is selected as system clock */
 712:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (RCU_CFG0 & RCU_SCSS_PLL)){
 713:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 714:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** }
 715:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 716:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_108M_PLL_HXTAL)
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 20


 717:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /*!
 718:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \brief      configure the system clock to 108M by PLL which selects HXTAL(8M) as its clock sour
 719:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[in]  none
 720:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[out] none
 721:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \retval     none
 722:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** */
 723:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_108m_hxtal(void)
 724:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** {
 725:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t timeout = 0U;
 726:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t stab_flag = 0U;
 727:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 728:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable HXTAL */
 729:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_HXTALEN;
 730:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 731:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until HXTAL is stable or the startup time is longer than HXTAL_STARTUP_TIMEOUT */
 732:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     do{
 733:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         timeout++;
 734:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         stab_flag = (RCU_CTL & RCU_CTL_HXTALSTB);
 735:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }while((0U == stab_flag) && (HXTAL_STARTUP_TIMEOUT != timeout));
 736:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 737:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* if fail */
 738:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     if(0U == (RCU_CTL & RCU_CTL_HXTALSTB)){
 739:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         while(1){
 740:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 741:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 742:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 743:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_APB1EN |= RCU_APB1EN_PMUEN;
 744:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_LDOVS;
 745:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 746:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* HXTAL is stable */
 747:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* AHB = SYSCLK */
 748:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_AHB_CKSYS_DIV1;
 749:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB2 = AHB/1 */
 750:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB2_CKAHB_DIV1;
 751:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB1 = AHB/2 */
 752:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB1_CKAHB_DIV2;
 753:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 754:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #if (defined(GD32F30X_HD) || defined(GD32F30X_XD))
 755:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select HXTAL/2 as clock source */
 756:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~(RCU_CFG0_PLLSEL | RCU_CFG0_PREDV0);
 757:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= (RCU_PLLSRC_HXTAL_IRC48M | RCU_CFG0_PREDV0);
 758:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 759:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* CK_PLL = (CK_HXTAL/2) * 27 = 108 MHz */
 760:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~(RCU_CFG0_PLLMF | RCU_CFG0_PLLMF_4 | RCU_CFG0_PLLMF_5);
 761:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_PLL_MUL27;
 762:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 763:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined(GD32F30X_CL)
 764:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* CK_PLL = (CK_PREDIV0) * 27 = 108 MHz */ 
 765:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~(RCU_CFG0_PLLMF | RCU_CFG0_PLLMF_4 | RCU_CFG0_PLLMF_5);
 766:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= (RCU_PLLSRC_HXTAL_IRC48M | RCU_PLL_MUL27);
 767:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 768:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* CK_PREDIV0 = (CK_HXTAL)/5 *8 /10 = 4 MHz */ 
 769:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG1 &= ~(RCU_CFG1_PLLPRESEL | RCU_CFG1_PREDV0SEL | RCU_CFG1_PLL1MF | RCU_CFG1_PREDV1 | RCU
 770:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG1 |= (RCU_PLLPRESRC_HXTAL | RCU_PREDV0SRC_CKPLL1 | RCU_PLL1_MUL8 | RCU_PREDV1_DIV5 | RCU
 771:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 772:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable PLL1 */
 773:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_PLL1EN;
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 21


 774:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait till PLL1 is ready */
 775:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while((RCU_CTL & RCU_CTL_PLL1STB) == 0){
 776:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 777:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #endif /* GD32F30X_HD and GD32F30X_XD */
 778:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 779:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable PLL */
 780:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_PLLEN;
 781:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 782:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until PLL is stable */
 783:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (RCU_CTL & RCU_CTL_PLLSTB)){
 784:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 785:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 786:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable the high-drive to extend the clock frequency to 120 MHz */
 787:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_HDEN;
 788:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDRF)){
 789:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 790:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 791:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select the high-drive mode */
 792:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_HDS;
 793:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDSRF)){
 794:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 795:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 796:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select PLL as system clock */
 797:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~RCU_CFG0_SCS;
 798:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_CKSYSSRC_PLL;
 799:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 800:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until PLL is selected as system clock */
 801:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (RCU_CFG0 & RCU_SCSS_PLL)){
 802:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 803:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** }
 804:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 805:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined (__SYSTEM_CLOCK_120M_PLL_HXTAL)
 806:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /*!
 807:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \brief      configure the system clock to 120M by PLL which selects HXTAL(8M) as its clock sour
 808:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[in]  none
 809:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[out] none
 810:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \retval     none
 811:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** */
 812:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** static void system_clock_120m_hxtal(void)
 813:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** {
 814:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t timeout = 0U;
 815:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t stab_flag = 0U;
 816:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 817:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable HXTAL */
 818:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_HXTALEN;
 819:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 820:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until HXTAL is stable or the startup time is longer than HXTAL_STARTUP_TIMEOUT */
 821:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     do{
 822:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         timeout++;
 823:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         stab_flag = (RCU_CTL & RCU_CTL_HXTALSTB);
 824:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }while((0U == stab_flag) && (HXTAL_STARTUP_TIMEOUT != timeout));
 825:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 826:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* if fail */
 827:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     if(0U == (RCU_CTL & RCU_CTL_HXTALSTB)){
 828:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         while(1){
 829:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 830:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 22


 831:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 832:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_APB1EN |= RCU_APB1EN_PMUEN;
 833:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_LDOVS;
 834:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 835:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* HXTAL is stable */
 836:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* AHB = SYSCLK */
 837:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_AHB_CKSYS_DIV1;
 838:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB2 = AHB/1 */
 839:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB2_CKAHB_DIV1;
 840:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* APB1 = AHB/2 */
 841:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_APB1_CKAHB_DIV2;
 842:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 843:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #if (defined(GD32F30X_HD) || defined(GD32F30X_XD))
 844:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select HXTAL/2 as clock source */
 845:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~(RCU_CFG0_PLLSEL | RCU_CFG0_PREDV0);
 846:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= (RCU_PLLSRC_HXTAL_IRC48M | RCU_CFG0_PREDV0);
 847:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 848:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* CK_PLL = (CK_HXTAL/2) * 30 = 120 MHz */
 849:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~(RCU_CFG0_PLLMF | RCU_CFG0_PLLMF_4 | RCU_CFG0_PLLMF_5);
 850:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_PLL_MUL30;
 851:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 852:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined(GD32F30X_CL)
 853:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* CK_PLL = (CK_PREDIV0) * 30 = 120 MHz */ 
 854:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~(RCU_CFG0_PLLMF | RCU_CFG0_PLLMF_4 | RCU_CFG0_PLLMF_5);
 855:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= (RCU_PLLSRC_HXTAL_IRC48M | RCU_PLL_MUL30);
 856:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 857:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* CK_PREDIV0 = (CK_HXTAL)/5 *8 /10 = 4 MHz */ 
 858:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG1 &= ~(RCU_CFG1_PLLPRESEL | RCU_CFG1_PREDV0SEL | RCU_CFG1_PLL1MF | RCU_CFG1_PREDV1 | RCU
 859:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG1 |= (RCU_PLLPRESRC_HXTAL | RCU_PREDV0SRC_CKPLL1 | RCU_PLL1_MUL8 | RCU_PREDV1_DIV5 | RCU
 860:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 861:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable PLL1 */
 862:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_PLL1EN;
 863:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait till PLL1 is ready */
 864:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while((RCU_CTL & RCU_CTL_PLL1STB) == 0U){
 865:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 866:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #endif /* GD32F30X_HD and GD32F30X_XD */
 867:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 868:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable PLL */
 869:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CTL |= RCU_CTL_PLLEN;
 870:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 871:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until PLL is stable */
 872:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (RCU_CTL & RCU_CTL_PLLSTB)){
 873:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 874:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 875:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* enable the high-drive to extend the clock frequency to 120 MHz */
 876:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_HDEN;
 877:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDRF)){
 878:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 879:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 880:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select the high-drive mode */
 881:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     PMU_CTL |= PMU_CTL_HDS;
 882:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (PMU_CS & PMU_CS_HDSRF)){
 883:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 884:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 885:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* select PLL as system clock */
 886:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 &= ~RCU_CFG0_SCS;
 887:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     RCU_CFG0 |= RCU_CKSYSSRC_PLL;
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 23


 888:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 889:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* wait until PLL is selected as system clock */
 890:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     while(0U == (RCU_CFG0 & RCU_SCSS_PLL)){
 891:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 892:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** }
 893:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #endif /* __SYSTEM_CLOCK_IRC8M */
 894:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 895:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** /*!
 896:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \brief      update the SystemCoreClock with current core clock retrieved from cpu registers
 897:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[in]  none
 898:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \param[out] none
 899:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     \retval     none
 900:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** */
 901:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** void SystemCoreClockUpdate(void)
 902:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** {
 333              		.loc 1 902 1 is_stmt 1 view -0
 334              		.cfi_startproc
 335              		@ args = 0, pretend = 0, frame = 16
 336              		@ frame_needed = 0, uses_anonymous_args = 0
 337              		@ link register save eliminated.
 338 0000 84B0     		sub	sp, sp, #16
 339              	.LCFI4:
 340              		.cfi_def_cfa_offset 16
 903:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t sws;
 341              		.loc 1 903 5 view .LVU96
 904:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t pllsel, pllpresel, predv0sel, pllmf, ck_src, idx, clk_exp;
 342              		.loc 1 904 5 view .LVU97
 905:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* exponent of AHB, APB1 and APB2 clock divider */
 906:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     const uint8_t ahb_exp[16] = {0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 3, 4, 6, 7, 8, 9};
 343              		.loc 1 906 5 view .LVU98
 344              		.loc 1 906 19 is_stmt 0 view .LVU99
 345 0002 2D4B     		ldr	r3, .L37
 346 0004 0FCB     		ldm	r3, {r0, r1, r2, r3}
 347 0006 0DF1100C 		add	ip, sp, #16
 348 000a 0CE90F00 		stmdb	ip, {r0, r1, r2, r3}
 907:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #ifdef GD32F30X_CL
 908:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     uint32_t predv0, predv1, pll1mf;
 909:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #endif /* GD32F30X_CL */
 910:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 911:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     sws = GET_BITS(RCU_CFG0, 2, 3);
 349              		.loc 1 911 5 is_stmt 1 view .LVU100
 350              		.loc 1 911 11 is_stmt 0 view .LVU101
 351 000e 2B4B     		ldr	r3, .L37+4
 352 0010 5B68     		ldr	r3, [r3, #4]
 353              		.loc 1 911 9 view .LVU102
 354 0012 C3F38103 		ubfx	r3, r3, #2, #2
 355              	.LVL8:
 912:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     switch(sws){
 356              		.loc 1 912 5 is_stmt 1 view .LVU103
 357 0016 012B     		cmp	r3, #1
 358 0018 17D0     		beq	.L21
 359 001a 022B     		cmp	r3, #2
 360 001c 19D0     		beq	.L22
 361 001e 1BB1     		cbz	r3, .L36
 913:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* IRC8M is selected as CK_SYS */
 914:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     case SEL_IRC8M:
 915:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         SystemCoreClock = IRC8M_VALUE;
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 24


 916:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         break;
 917:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* HXTAL is selected as CK_SYS */
 918:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     case SEL_HXTAL:
 919:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         SystemCoreClock = HXTAL_VALUE;
 920:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         break;
 921:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* PLL is selected as CK_SYS */
 922:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     case SEL_PLL:
 923:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         /* PLL clock source selection, HXTAL, IRC48M or IRC8M/2 */
 924:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         pllsel = (RCU_CFG0 & RCU_CFG0_PLLSEL);
 925:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 926:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         if(RCU_PLLSRC_HXTAL_IRC48M == pllsel){
 927:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             /* PLL clock source is HXTAL or IRC48M */
 928:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             pllpresel = (RCU_CFG1 & RCU_CFG1_PLLPRESEL);
 929:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             
 930:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             if(RCU_PLLPRESRC_HXTAL == pllpresel){
 931:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****                 /* PLL clock source is HXTAL */
 932:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****                 ck_src = HXTAL_VALUE;
 933:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             }else{
 934:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****                 /* PLL clock source is IRC48 */
 935:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****                 ck_src = IRC48M_VALUE;
 936:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             }
 937:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 938:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #if (defined(GD32F30X_HD) || defined(GD32F30X_XD))
 939:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             predv0sel = (RCU_CFG0 & RCU_CFG0_PREDV0);
 940:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             /* PREDV0 input source clock divided by 2 */
 941:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             if(RCU_CFG0_PREDV0 == predv0sel){
 942:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****                 ck_src /= 2U;
 943:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             }
 944:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #elif defined(GD32F30X_CL)
 945:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             predv0sel = (RCU_CFG1 & RCU_CFG1_PREDV0SEL);
 946:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             /* source clock use PLL1 */
 947:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             if(RCU_PREDV0SRC_CKPLL1 == predv0sel){
 948:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****                 predv1 = ((RCU_CFG1 & RCU_CFG1_PREDV1) >> 4) + 1U;
 949:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****                 pll1mf = ((RCU_CFG1 & RCU_CFG1_PLL1MF) >> 8) + 2U;
 950:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****                 if(17U == pll1mf){
 951:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****                     pll1mf = 20U;
 952:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****                 }
 953:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****                 ck_src = (ck_src / predv1) * pll1mf;
 954:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             }
 955:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             predv0 = (RCU_CFG1 & RCU_CFG1_PREDV0) + 1U;
 956:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             ck_src /= predv0;
 957:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** #endif /* GD32F30X_HD and GD32F30X_XD */
 958:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }else{
 959:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             /* PLL clock source is IRC8M/2 */
 960:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             ck_src = IRC8M_VALUE / 2U;
 961:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 962:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 963:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         /* PLL multiplication factor */
 964:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         pllmf = GET_BITS(RCU_CFG0, 18, 21);
 965:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 966:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         if((RCU_CFG0 & RCU_CFG0_PLLMF_4)){
 967:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             pllmf |= 0x10U;
 968:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 969:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         if((RCU_CFG0 & RCU_CFG0_PLLMF_5)){
 970:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             pllmf |= 0x20U;
 971:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 972:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 25


 973:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         if( pllmf >= 15U){
 974:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             pllmf += 1U;
 975:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }else{
 976:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             pllmf += 2U;
 977:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 978:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         if(pllmf > 61U){
 979:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             pllmf = 63U;
 980:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 981:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         SystemCoreClock = ck_src * pllmf;
 982:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     #ifdef GD32F30X_CL
 983:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         if(15U == pllmf){
 984:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             SystemCoreClock = (ck_src * 6U) + (ck_src / 2U);
 985:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 986:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     #endif /* GD32F30X_CL */
 987:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         break;
 988:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* IRC8M is selected as CK_SYS */
 989:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     default:
 990:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         SystemCoreClock = IRC8M_VALUE;
 362              		.loc 1 990 9 view .LVU104
 363              		.loc 1 990 25 is_stmt 0 view .LVU105
 364 0020 274B     		ldr	r3, .L37+8
 365              	.LVL9:
 366              		.loc 1 990 25 view .LVU106
 367 0022 284A     		ldr	r2, .L37+12
 368 0024 1A60     		str	r2, [r3]
 991:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         break;
 369              		.loc 1 991 9 is_stmt 1 view .LVU107
 370 0026 02E0     		b	.L24
 371              	.LVL10:
 372              	.L36:
 915:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         break;
 373              		.loc 1 915 9 view .LVU108
 915:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         break;
 374              		.loc 1 915 25 is_stmt 0 view .LVU109
 375 0028 254B     		ldr	r3, .L37+8
 376              	.LVL11:
 915:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         break;
 377              		.loc 1 915 25 view .LVU110
 378 002a 264A     		ldr	r2, .L37+12
 379 002c 1A60     		str	r2, [r3]
 916:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* HXTAL is selected as CK_SYS */
 380              		.loc 1 916 9 is_stmt 1 view .LVU111
 381              	.L24:
 992:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     }
 993:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 994:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* calculate AHB clock frequency */
 995:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     idx = GET_BITS(RCU_CFG0, 4, 7);
 382              		.loc 1 995 5 view .LVU112
 383              		.loc 1 995 11 is_stmt 0 view .LVU113
 384 002e 234B     		ldr	r3, .L37+4
 385 0030 5B68     		ldr	r3, [r3, #4]
 386              		.loc 1 995 9 view .LVU114
 387 0032 C3F30313 		ubfx	r3, r3, #4, #4
 388              	.LVL12:
 996:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     clk_exp = ahb_exp[idx];
 389              		.loc 1 996 5 is_stmt 1 view .LVU115
 390              		.loc 1 996 22 is_stmt 0 view .LVU116
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 26


 391 0036 04AA     		add	r2, sp, #16
 392 0038 1344     		add	r3, r3, r2
 393              	.LVL13:
 394              		.loc 1 996 22 view .LVU117
 395 003a 13F8101C 		ldrb	r1, [r3, #-16]	@ zero_extendqisi2
 396              	.LVL14:
 997:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     SystemCoreClock = SystemCoreClock >> clk_exp;
 397              		.loc 1 997 5 is_stmt 1 view .LVU118
 398              		.loc 1 997 39 is_stmt 0 view .LVU119
 399 003e 204A     		ldr	r2, .L37+8
 400 0040 1368     		ldr	r3, [r2]
 401 0042 CB40     		lsrs	r3, r3, r1
 402              		.loc 1 997 21 view .LVU120
 403 0044 1360     		str	r3, [r2]
 998:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** }
 404              		.loc 1 998 1 view .LVU121
 405 0046 04B0     		add	sp, sp, #16
 406              	.LCFI5:
 407              		.cfi_remember_state
 408              		.cfi_def_cfa_offset 0
 409              		@ sp needed
 410 0048 7047     		bx	lr
 411              	.LVL15:
 412              	.L21:
 413              	.LCFI6:
 414              		.cfi_restore_state
 919:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         break;
 415              		.loc 1 919 9 is_stmt 1 view .LVU122
 919:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         break;
 416              		.loc 1 919 25 is_stmt 0 view .LVU123
 417 004a 1D4B     		ldr	r3, .L37+8
 418              	.LVL16:
 919:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         break;
 419              		.loc 1 919 25 view .LVU124
 420 004c 1D4A     		ldr	r2, .L37+12
 421 004e 1A60     		str	r2, [r3]
 920:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* PLL is selected as CK_SYS */
 422              		.loc 1 920 9 is_stmt 1 view .LVU125
 423 0050 EDE7     		b	.L24
 424              	.LVL17:
 425              	.L22:
 924:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 426              		.loc 1 924 9 view .LVU126
 924:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 427              		.loc 1 924 19 is_stmt 0 view .LVU127
 428 0052 1A4B     		ldr	r3, .L37+4
 429              	.LVL18:
 924:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 430              		.loc 1 924 19 view .LVU128
 431 0054 5B68     		ldr	r3, [r3, #4]
 432              	.LVL19:
 926:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             /* PLL clock source is HXTAL or IRC48M */
 433              		.loc 1 926 9 is_stmt 1 view .LVU129
 926:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             /* PLL clock source is HXTAL or IRC48M */
 434              		.loc 1 926 11 is_stmt 0 view .LVU130
 435 0056 13F4803F 		tst	r3, #65536
 436 005a 0ED0     		beq	.L32
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 27


 928:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             
 437              		.loc 1 928 13 is_stmt 1 view .LVU131
 928:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             
 438              		.loc 1 928 26 is_stmt 0 view .LVU132
 439 005c 174B     		ldr	r3, .L37+4
 440              	.LVL20:
 928:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             
 441              		.loc 1 928 26 view .LVU133
 442 005e DB6A     		ldr	r3, [r3, #44]
 443              	.LVL21:
 930:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****                 /* PLL clock source is HXTAL */
 444              		.loc 1 930 13 is_stmt 1 view .LVU134
 930:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****                 /* PLL clock source is HXTAL */
 445              		.loc 1 930 15 is_stmt 0 view .LVU135
 446 0060 13F0804F 		tst	r3, #1073741824
 447 0064 07D1     		bne	.L33
 932:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             }else{
 448              		.loc 1 932 24 view .LVU136
 449 0066 1749     		ldr	r1, .L37+12
 450              	.L26:
 451              	.LVL22:
 939:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             /* PREDV0 input source clock divided by 2 */
 452              		.loc 1 939 13 is_stmt 1 view .LVU137
 939:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             /* PREDV0 input source clock divided by 2 */
 453              		.loc 1 939 26 is_stmt 0 view .LVU138
 454 0068 144B     		ldr	r3, .L37+4
 455              	.LVL23:
 939:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             /* PREDV0 input source clock divided by 2 */
 456              		.loc 1 939 26 view .LVU139
 457 006a 5B68     		ldr	r3, [r3, #4]
 458              	.LVL24:
 941:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****                 ck_src /= 2U;
 459              		.loc 1 941 13 is_stmt 1 view .LVU140
 941:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****                 ck_src /= 2U;
 460              		.loc 1 941 15 is_stmt 0 view .LVU141
 461 006c 13F4003F 		tst	r3, #131072
 462 0070 04D0     		beq	.L25
 942:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             }
 463              		.loc 1 942 17 is_stmt 1 view .LVU142
 942:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             }
 464              		.loc 1 942 24 is_stmt 0 view .LVU143
 465 0072 4908     		lsrs	r1, r1, #1
 466              	.LVL25:
 942:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             }
 467              		.loc 1 942 24 view .LVU144
 468 0074 02E0     		b	.L25
 469              	.LVL26:
 470              	.L33:
 935:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             }
 471              		.loc 1 935 24 view .LVU145
 472 0076 1449     		ldr	r1, .L37+16
 473 0078 F6E7     		b	.L26
 474              	.LVL27:
 475              	.L32:
 960:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 476              		.loc 1 960 20 view .LVU146
 477 007a 1449     		ldr	r1, .L37+20
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 28


 478              	.LVL28:
 479              	.L25:
 964:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 480              		.loc 1 964 9 is_stmt 1 view .LVU147
 964:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 481              		.loc 1 964 17 is_stmt 0 view .LVU148
 482 007c 0F4A     		ldr	r2, .L37+4
 483 007e 5368     		ldr	r3, [r2, #4]
 964:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c **** 
 484              		.loc 1 964 15 view .LVU149
 485 0080 C3F38343 		ubfx	r3, r3, #18, #4
 486              	.LVL29:
 966:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             pllmf |= 0x10U;
 487              		.loc 1 966 9 is_stmt 1 view .LVU150
 966:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             pllmf |= 0x10U;
 488              		.loc 1 966 13 is_stmt 0 view .LVU151
 489 0084 5268     		ldr	r2, [r2, #4]
 966:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             pllmf |= 0x10U;
 490              		.loc 1 966 11 view .LVU152
 491 0086 12F0006F 		tst	r2, #134217728
 492 008a 01D0     		beq	.L27
 967:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 493              		.loc 1 967 13 is_stmt 1 view .LVU153
 967:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 494              		.loc 1 967 19 is_stmt 0 view .LVU154
 495 008c 43F01003 		orr	r3, r3, #16
 496              	.LVL30:
 497              	.L27:
 969:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             pllmf |= 0x20U;
 498              		.loc 1 969 9 is_stmt 1 view .LVU155
 969:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             pllmf |= 0x20U;
 499              		.loc 1 969 13 is_stmt 0 view .LVU156
 500 0090 0A4A     		ldr	r2, .L37+4
 501 0092 5268     		ldr	r2, [r2, #4]
 969:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             pllmf |= 0x20U;
 502              		.loc 1 969 11 view .LVU157
 503 0094 12F0804F 		tst	r2, #1073741824
 504 0098 01D0     		beq	.L28
 970:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 505              		.loc 1 970 13 is_stmt 1 view .LVU158
 970:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 506              		.loc 1 970 19 is_stmt 0 view .LVU159
 507 009a 43F02003 		orr	r3, r3, #32
 508              	.LVL31:
 509              	.L28:
 973:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             pllmf += 1U;
 510              		.loc 1 973 9 is_stmt 1 view .LVU160
 973:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             pllmf += 1U;
 511              		.loc 1 973 11 is_stmt 0 view .LVU161
 512 009e 0E2B     		cmp	r3, #14
 513 00a0 08D9     		bls	.L29
 974:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }else{
 514              		.loc 1 974 13 is_stmt 1 view .LVU162
 974:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }else{
 515              		.loc 1 974 19 is_stmt 0 view .LVU163
 516 00a2 0133     		adds	r3, r3, #1
 517              	.LVL32:
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 29


 518              	.L30:
 978:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             pllmf = 63U;
 519              		.loc 1 978 9 is_stmt 1 view .LVU164
 978:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****             pllmf = 63U;
 520              		.loc 1 978 11 is_stmt 0 view .LVU165
 521 00a4 3D2B     		cmp	r3, #61
 522 00a6 00D9     		bls	.L31
 979:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 523              		.loc 1 979 19 view .LVU166
 524 00a8 3F23     		movs	r3, #63
 525              	.LVL33:
 526              	.L31:
 981:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     #ifdef GD32F30X_CL
 527              		.loc 1 981 9 is_stmt 1 view .LVU167
 981:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     #ifdef GD32F30X_CL
 528              		.loc 1 981 34 is_stmt 0 view .LVU168
 529 00aa 01FB03F3 		mul	r3, r1, r3
 530              	.LVL34:
 981:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     #ifdef GD32F30X_CL
 531              		.loc 1 981 25 view .LVU169
 532 00ae 044A     		ldr	r2, .L37+8
 533 00b0 1360     		str	r3, [r2]
 987:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****     /* IRC8M is selected as CK_SYS */
 534              		.loc 1 987 9 is_stmt 1 view .LVU170
 535 00b2 BCE7     		b	.L24
 536              	.LVL35:
 537              	.L29:
 976:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 538              		.loc 1 976 13 view .LVU171
 976:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 539              		.loc 1 976 19 is_stmt 0 view .LVU172
 540 00b4 0233     		adds	r3, r3, #2
 541              	.LVL36:
 976:Drivers/CMSIS/GD/GD32F30x/Source/system_gd32f30x.c ****         }
 542              		.loc 1 976 19 view .LVU173
 543 00b6 F5E7     		b	.L30
 544              	.L38:
 545              		.align	2
 546              	.L37:
 547 00b8 00000000 		.word	.LANCHOR0
 548 00bc 00100240 		.word	1073876992
 549 00c0 00000000 		.word	.LANCHOR1
 550 00c4 00127A00 		.word	8000000
 551 00c8 006CDC02 		.word	48000000
 552 00cc 00093D00 		.word	4000000
 553              		.cfi_endproc
 554              	.LFE119:
 556              		.global	SystemCoreClock
 557              		.section	.rodata
 558              		.align	2
 559              		.set	.LANCHOR0,. + 0
 560              	.LC0:
 561 0000 00000000 		.ascii	"\000\000\000\000\000\000\000\000\001\002\003\004\006"
 561      00000000 
 561      01020304 
 561      06
 562 000d 070809   		.ascii	"\007\010\011"
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 30


 563              		.section	.data.SystemCoreClock,"aw"
 564              		.align	2
 565              		.set	.LANCHOR1,. + 0
 568              	SystemCoreClock:
 569 0000 000E2707 		.word	120000000
 570              		.text
 571              	.Letext0:
 572              		.file 2 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-m
 573              		.file 3 "c:\\programdata\\chocolatey\\lib\\gcc-arm-embedded\\tools\\gcc-arm-none-eabi-10-2020-q4-m
 574              		.file 4 "Drivers/CMSIS/core_cm4.h"
 575              		.file 5 "Drivers/CMSIS/GD/GD32F30x/Include/system_gd32f30x.h"
 576              		.file 6 "Drivers/GD32F30x_standard_peripheral/Include/gd32f30x_dbg.h"
ARM GAS  C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s 			page 31


DEFINED SYMBOLS
                            *ABS*:00000000 system_gd32f30x.c
C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s:18     .text.system_clock_120m_irc8m:00000000 $t
C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s:25     .text.system_clock_120m_irc8m:00000000 system_clock_120m_irc8m
C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s:191    .text.system_clock_120m_irc8m:000000c0 $d
C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s:197    .text.system_clock_config:00000000 $t
C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s:203    .text.system_clock_config:00000000 system_clock_config
C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s:223    .text.SystemInit:00000000 $t
C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s:230    .text.SystemInit:00000000 SystemInit
C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s:318    .text.SystemInit:00000070 $d
C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s:324    .text.SystemCoreClockUpdate:00000000 $t
C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s:331    .text.SystemCoreClockUpdate:00000000 SystemCoreClockUpdate
C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s:547    .text.SystemCoreClockUpdate:000000b8 $d
C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s:568    .data.SystemCoreClock:00000000 SystemCoreClock
C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s:558    .rodata:00000000 $d
C:\Users\Prog\AppData\Local\Temp\ccUIrW6R.s:564    .data.SystemCoreClock:00000000 $d

NO UNDEFINED SYMBOLS
